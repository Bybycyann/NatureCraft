# S-ToolKit 数据取调规范

## 数据存储

stk 使用命令存储 (**storage**) 作为数据交互方式, 其结构如下:

```SNBT
(object) stk:io
    ├─(object) input: 输入
    ├─(object) output：输出
    ├─(object) push: 栈输入
    └─(list) stack: 栈
        └─(object): 局部变量空间
```

## 栈(stack)

- 创建一个新栈元素

```mcfunction
# 内部读取
data modify storage stk:io stack append from storage stk:io input
# 外部输入(先创建空元素, 后按需将变量入栈)
data modify storage stk:io stack append value {}
# 从输出抓取
data modify storage stk:io stack append from storage stk:io output
```

- 将变量入栈

```mcfunction
# 内部读取
data modify storage stk:io stack[-1] merge from storage stk:io input
# 外部输入
$data modify storage stk:io stack[-1] merge value {key:$(value)}
```

- 栈弹出

```mcfunction
data remove storage stk:io stack[-1]
```